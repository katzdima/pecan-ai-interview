<div class="container">
    <div>
        <app-add-node (addedNode)="addNode($event)" [isTop]="true"></app-add-node>

        <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="tree mat-tree-position">
        <!-- Without Children -->
          <mat-tree-node *matTreeNodeDef="let node">
            <li class="mat-tree-node">
              
              <button mat-icon-button disabled></button>
              <div (click)="fetchNodeData(node)">{{node.Name}}</div>
              <app-delete-node *ngIf="isColumnNode(node)" (deletedNode)="deleteNode($event)" [currentNode]="node" ></app-delete-node>
              <app-add-node *ngIf="isColumnNode(node)" (addedNode)="addChildNode($event)" [isTop]="false" [currentNode]="node"></app-add-node>
            </li>
          </mat-tree-node>
        
          <!-- With Children -->
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
            <li>
              <div class="mat-tree-node">
                <button mat-icon-button matTreeNodeToggle
                        [attr.aria-label]="'toggle ' + node.Name">
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{nestedTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                  </mat-icon>
                </button>
                {{node.Name}}
                <app-delete-node (deletedNode)="deleteNode($event)" [currentNode]="node" ></app-delete-node>
                <app-add-node (addedNode)="addChildNode($event)" [isTop]="false" [currentNode]="node"></app-add-node>
              </div>
              <ul [class.tree-invisible]="!nestedTreeControl.isExpanded(node)">
                <ng-container matTreeNodeOutlet></ng-container>
              </ul>
            </li>
          </mat-nested-tree-node>
        </mat-tree>
    </div>
    <div>
        <app-content></app-content>
    </div>
</div>

